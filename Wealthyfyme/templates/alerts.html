<!DOCTYPE html>
<html>
<head>
    <title>Budget Alerts</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-5">
    {% extends "dashboard.html" %}
    {% block content %}

    <h2 class="mb-4">⚠️ Budget Alerts</h2>

    {% if alerts %}
        {% for alert in alerts %}
            {% if alert.spent > alert.limit %}
                <div class="alert alert-danger">
                    <strong>{{ alert.category }}</strong>: You've spent <strong>{{ alert.spent }}</strong> out of <strong>{{ alert.limit }}</strong>
                    ({{ "%.2f"|format(alert.percentage) }}%). <br>
                    <small>🚨 Over budget! Please adjust your spending.</small>
                </div>
            {% else %}
                <div class="alert alert-warning">
                    <strong>{{ alert.category }}</strong>: You've spent <strong>{{ alert.spent }}</strong> out of <strong>{{ alert.limit }}</strong>
                    ({{ "%.2f"|format(alert.percentage) }}%). <br>
                    <small>⚠️ Warning: Over 90% of your budget used!</small>
                </div>
            {% endif %}
        {% endfor %}
    {% else %}
        <div class="alert alert-success">
            ✅ All categories are within budget!
        </div>
    {% endif %}

    {% endblock %}
</body>
</html>
