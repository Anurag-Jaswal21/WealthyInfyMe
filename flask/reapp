
@app.route('/')
def home():
    return render_template("index.html")

@app.route('/login', methods=["GET", "POST"])
def login():
    msg = ""
    form = LoginForm()
    if form.validate_on_submit():
        email = form.email.data
        password = form.password.data
        res = check_user(email, password)
        if res:
            msg = "successful"
        else:
            msg = "unsuccessful"

    return render_template("login.html", form=form, msg=msg)  # Pass msg to the template

@app.route('/register', methods=["GET", "POST"])
def register():
    msg=''
    form = RegistrationForm()
    if form.validate_on_submit():
        # Get data from the form
        name = form.name.data
        email = form.email.data
        password = form.password.data
        confirm_password = form.confirm_password.data

        # Insert user data into MySQL database
        res = registration(name, email, password, confirm_password)
        if res:
            return redirect(url_for('login'))
        else:
            msg="Please, Enter Validate Mail !!!"
        

    return render_template("registration.html", form=form,msg=msg)


if __name__ == '__main__':
    app.run(debug=True)
