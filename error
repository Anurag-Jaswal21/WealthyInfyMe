__init__.py

from flask import Blueprint
from app.news_utils import fetch_news_by_query

landing_bp = Blueprint('main', __name__)

from . import routes



app.news_utils.py


from flask import Blueprint
from flask import render_template
from app.db import mongo

newsPage_bp = Blueprint('newsPage_bp', __name__)  

@newsPage_bp.route('/<channelname>/<articleId>')
def newsPage(channelname, articleId):
    articleId = int(articleId)
    db = mongo.cx['newChannels']
    res = db.newschannel.find( { 'name': channelname }, { "articles" : { '$slice': [articleId, 1] } } )
    res = list(res)
    
    # [] -> {} transformation
    if res :
        res = res[0]
    return render_template( 'newsPage.html', article = res )
